@import 'tailwindcss';
@plugin "@tailwindcss/typography";
@plugin "./hero.ts";

/* Scan HeroUI components for utility classes */
@source '../node_modules/@heroui/theme/dist/**/*.{js,ts,jsx,tsx}';

/* Enable class-based dark mode */
@custom-variant dark (&:where(.dark, .dark *));

/* Custom Design System Tokens */
@theme {
  /* Brand Colors */
  --color-brand-50: #eff6ff;
  --color-brand-100: #dbeafe;
  --color-brand-200: #bfdbfe;
  --color-brand-300: #93c5fd;
  --color-brand-400: #60a5fa;
  --color-brand-500: #3b82f6;
  --color-brand-600: #2563eb;
  --color-brand-700: #1d4ed8;
  --color-brand-800: #1e40af;
  --color-brand-900: #1e3a8a;
  --color-brand-950: #172554;

  /* Semantic Colors */
  --color-surface-primary: hsl(var(--surface-primary));
  --color-surface-secondary: hsl(var(--surface-secondary));
  --color-surface-tertiary: hsl(var(--surface-tertiary));
  --color-surface-elevated: hsl(var(--surface-elevated));

  --color-content-primary: hsl(var(--content-primary));
  --color-content-secondary: hsl(var(--content-secondary));
  --color-content-tertiary: hsl(var(--content-tertiary));
  --color-content-inverse: hsl(var(--content-inverse));

  --color-border-default: hsl(var(--border-default));
  --color-border-subtle: hsl(var(--border-subtle));
  --color-border-strong: hsl(var(--border-strong));

  /* Spacing */
  --spacing-4_5: 1.125rem;
  --spacing-5_5: 1.375rem;
  --spacing-6_5: 1.625rem;
  --spacing-7_5: 1.875rem;
  --spacing-8_5: 2.125rem;
  --spacing-9_5: 2.375rem;
  --spacing-15: 3.75rem;
  --spacing-18: 4.5rem;
  --spacing-22: 5.5rem;
  --spacing-26: 6.5rem;

  /* Border Radius */
  --radius-xs: 0.125rem;
  --radius-sm: 0.25rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;
  --radius-2xl: 2rem;

  /* Font Family */
  --font-sans: Inter, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;
  --font-mono: Fira Code, SF Mono, Monaco, Consolas, Liberation Mono, monospace;

  /* Font Size - Tailwind v4 uses --text-* but here we extend? */
  /* v4 handles font sizes via utilities, but if we want custom ones: */
  /* --text-xs: 0.75rem; --text-xs--line-height: 1rem; */
  /* Skipping custom font sizes as they match defaults mostly, except specific ones? */
  /* tailwind.config.ts had standard scale mostly. */

  /* Box Shadow */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);

  /* Z-Index */
  --z-index-dropdown: 1000;
  --z-index-sticky: 1020;
  --z-index-fixed: 1030;
  --z-index-modal: 1040;
  --z-index-popover: 1050;
  --z-index-tooltip: 1060;
  --z-index-toast: 1070;
}

/* Prevent scrollbar layout shift */
body {
  overflow-y: scroll;
}

/* ---------------------------------------------
   Cards
   --------------------------------------------- */
[data-slot='card'],
.heroui-card {
  background-color: hsl(var(--surface-secondary));
  border: 1px solid hsl(var(--border-default));
}

:root {
  --header-height: 4rem;
  --footer-height: 3rem;
  --sidebar-width: 16rem;

  /* GPT Design System - Light Theme */
  --surface-primary: 0 0% 100%; /* #ffffff */
  --surface-secondary: 0 0% 98%; /* #fafafa */
  --surface-tertiary: 0 0% 96%; /* #f5f5f5 */
  --surface-elevated: 0 0% 100%; /* #ffffff */

  --content-primary: 220 9% 11%; /* #1c1c1e */
  --content-secondary: 220 9% 25%; /* #3a3a3c */
  --content-tertiary: 220 9% 42%; /* #636366 */
  --content-inverse: 0 0% 100%; /* #ffffff */

  --border-default: 220 13% 91%; /* #e5e5e7 */
  --border-subtle: 220 13% 95%; /* #f2f2f7 */
  --border-strong: 220 13% 82%; /* #c7c7cc */

  /* Legacy support - gradually migrate away from these */
  --background-primary: hsl(var(--surface-primary));
  --background-secondary: hsl(var(--surface-secondary));
  --background-tertiary: hsl(var(--surface-tertiary));
  --text-primary: hsl(var(--content-primary));
  --text-secondary: hsl(var(--content-secondary));
  --text-tertiary: hsl(var(--content-tertiary));
  --border-color: hsl(var(--border-default));
  --accent-color: #3b82f6;
  --accent-hover: #2563eb;
}

.dark {
  /* GPT Design System - Dark Theme (Gumroad Style) */
  --surface-primary: 0 0% 0%; /* #000000 */
  --surface-secondary: 0 0% 10%; /* #1a1a1a */
  --surface-tertiary: 0 0% 13%; /* #212121 */
  --surface-elevated: 0 0% 13%; /* #212121 */

  --content-primary: 0 0% 100%; /* #ffffff */
  --content-secondary: 0 0% 70%; /* #b3b3b3 */
  --content-tertiary: 0 0% 40%; /* #666666 */
  --content-inverse: 0 0% 0%; /* #000000 */

  --border-default: 0 0% 20%; /* #333333 */
  --border-subtle: 0 0% 15%; /* #262626 */
  --border-strong: 0 0% 30%; /* #4d4d4d */

  /* Legacy support - gradually migrate away from these */
  --background-primary: hsl(var(--surface-primary));
  --background-secondary: hsl(var(--surface-secondary));
  --background-tertiary: hsl(var(--surface-tertiary));
  --text-primary: hsl(var(--content-primary));
  --text-secondary: hsl(var(--content-secondary));
  --text-tertiary: hsl(var(--content-tertiary));
  --border-color: hsl(var(--border-default));
  --accent-color: #ffffff; /* White accent for dark mode */
  --accent-hover: #e5e5e5;
}

@layer base {
  body {
    background-color: hsl(var(--surface-primary));
    color: hsl(var(--content-primary));
  }

  /* Theme transitions - only on specific properties to prevent flickering */

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
  }

  ::-webkit-scrollbar-track {
    background: var(--background-secondary);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--background-tertiary);
    border-radius: 5px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--text-secondary);
  }

  /* Cards - using design system animation utilities */
  .card {
    @apply rounded-lg border-0 p-6 shadow-sm transition-shadow duration-200 ease-in-out hover:shadow-md;
    background-color: hsl(var(--surface-secondary));
  }

  .card-link {
    @apply block rounded-lg border-0 p-6 shadow-md transition-shadow duration-200 ease-in-out hover:shadow-lg;
    background-color: hsl(var(--surface-secondary));
  }

  /* Search */
  .search-input {
    @apply w-64 px-4 py-1.5 rounded-md text-sm focus:outline-none;
    background-color: hsl(var(--surface-tertiary));
    border: 1px solid hsl(var(--border-default));
    color: hsl(var(--content-primary));
  }

  .search-input:focus {
    border-color: transparent;
    box-shadow: 0 0 0 2px var(--accent-color);
  }

  .search-input::placeholder {
    color: hsl(var(--content-tertiary));
  }

  /* Navigation - using design system animation utilities */
  .nav-link {
    @apply p-2 transition-colors duration-200 ease-in-out;
    color: hsl(var(--content-secondary));
  }

  .nav-link:hover {
    color: hsl(var(--content-primary));
  }

  .nav-link-active {
    color: var(--accent-color);
  }

  /* Typography */
  h1 {
    @apply text-4xl font-bold mb-4;
    color: hsl(var(--content-primary));
  }

  h2 {
    @apply text-2xl font-semibold mb-3;
    color: hsl(var(--content-primary));
  }

  h3 {
    @apply text-xl font-semibold mb-2;
    color: hsl(var(--content-primary));
  }

  p {
    @apply leading-relaxed;
    color: hsl(var(--content-secondary));
  }

  /* Links - using design system animation utilities */
  .link {
    @apply transition-colors duration-200 ease-in-out;
    color: var(--accent-color);
  }

  .link:hover {
    color: var(--accent-hover);
  }

  /* Documentation */
  .doc-content {
    @apply prose prose-lg dark:prose-invert max-w-none prose-a:no-underline;
  }

  .doc-content :where(h1, h2, h3, h4, h5, h6) {
    color: hsl(var(--content-primary));
  }

  .doc-content :where(p) {
    color: hsl(var(--content-secondary));
  }

  .doc-content :where(a) {
    color: var(--accent-color);
  }

  .doc-content :where(a):hover {
    color: var(--accent-hover);
  }

  /* Code blocks */
  pre {
    @apply p-4 rounded-lg overflow-x-auto;
    background-color: hsl(var(--surface-tertiary));
    border: 1px solid hsl(var(--border-default));
  }

  code {
    @apply font-mono text-sm;
    color: hsl(var(--content-primary));
  }

  /* Sidebar */
  .sidebar-nav {
    @apply flex flex-col gap-1;
    color: hsl(var(--content-secondary));
  }

  .sidebar-link {
    @apply px-3 py-2 rounded-md transition-colors duration-200 ease-in-out;
  }

  .sidebar-link:hover {
    background-color: hsl(var(--surface-secondary));
    color: hsl(var(--content-primary));
  }

  .sidebar-link-active {
    background-color: hsl(var(--surface-secondary));
    color: hsl(var(--content-primary));
  }

  /* Breadcrumbs */
  .breadcrumb {
    @apply flex items-center gap-2 text-sm mb-4;
  }

  .breadcrumb-item {
    color: hsl(var(--content-tertiary));
  }

  .breadcrumb-separator {
    color: hsl(var(--content-tertiary));
  }

  /* Tables */
  table {
    @apply w-full border-collapse mb-4;
  }

  th,
  td {
    @apply p-2 text-left;
    border: 1px solid hsl(var(--border-default));
  }

  th {
    background-color: hsl(var(--surface-secondary));
  }
}
